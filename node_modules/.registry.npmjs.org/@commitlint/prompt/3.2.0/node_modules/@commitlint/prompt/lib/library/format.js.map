{"version":3,"sources":["../../src/library/format.js"],"names":["format","input","debug","results","reduce","registry","item","name","value","grey","bold","type","scope","subject","body","footer","filter","Boolean","join"],"mappings":";;;;;;;;;;AAAA;;;;AACA;;;;kBAEeA,M;;AAEf;;;;;;;AAMA,SAASA,MAAT,CAAgBC,KAAhB,EAAsC;AAAA,KAAfC,KAAe,uEAAP,KAAO;;AACrC,KAAMC,UAAUD,QACb,qBAAQD,KAAR,EAAeG,MAAf,CAAsB,UAACC,QAAD,EAAWC,IAAX,EAAoB;AAAA,2CACpBA,IADoB;AAAA,MACnCC,IADmC;AAAA,MAC7BC,KAD6B;;AAE1CH,WAASE,IAAT,IAAiBC,UAAU,IAAV,GAAiB,gBAAMC,IAAN,CAAY,IAAGF,IAAK,GAApB,CAAjB,GAA2C,gBAAMG,IAAN,CAAWF,KAAX,CAA5D;AACA,SAAOH,QAAP;AACA,EAJA,EAIE,EAJF,CADa,GAMbJ,KANH;;AAQA;AATqC,KAU9BU,IAV8B,GAUQR,OAVR,CAU9BQ,IAV8B;AAAA,KAUxBC,KAVwB,GAUQT,OAVR,CAUxBS,KAVwB;AAAA,KAUjBC,OAViB,GAUQV,OAVR,CAUjBU,OAViB;AAAA,KAURC,IAVQ,GAUQX,OAVR,CAURW,IAVQ;AAAA,KAUFC,MAVE,GAUQZ,OAVR,CAUFY,MAVE;;AAWrC,QAAO,CACL,GAAEJ,IAAK,GAAEC,QAAQ,GAAR,GAAc,EAAG,GAAEA,KAAM,GAAEA,QAAQ,GAAR,GAAc,EAAG,GAAED,QAAQC,KAAR,GACrD,GADqD,GAErD,EAAG,IAAGC,OAAQ,EAHX,EAINC,IAJM,EAKNC,MALM,EAOLC,MAPK,CAOEC,OAPF,EAQLC,IARK,CAQA,IARA,CAAP;AASA","file":"format.js","sourcesContent":["import chalk from 'chalk';\nimport {entries} from 'lodash';\n\nexport default format;\n\n/**\n * Get formatted commit message\n * @param  {object}  input object containing structured results\n * @param  {boolean} debug show debug information in commit message\n * @return {string}        formatted debug message\n */\nfunction format(input, debug = false) {\n\tconst results = debug\n\t\t? entries(input).reduce((registry, item) => {\n\t\t\t\tconst [name, value] = item;\n\t\t\t\tregistry[name] = value === null ? chalk.grey(`<${name}>`) : chalk.bold(value)\n\t\t\t\treturn registry;\n\t\t\t}, {})\n\t\t: input;\n\n\t// Return formatted string\n\tconst {type, scope, subject, body, footer} = results;\n\treturn [\n\t\t`${type}${scope ? '(' : ''}${scope}${scope ? ')' : ''}${type || scope\n\t\t\t? ':'\n\t\t\t: ''} ${subject}`,\n\t\tbody,\n\t\tfooter\n\t]\n\t\t.filter(Boolean)\n\t\t.join('\\n');\n}\n"]}